<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>–ö–û–í–ß–ï–ì ‚Äî –ò–≥—Ä–æ–∫</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    .screen {
      display: none;
      position: fixed;
      inset: 0;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 10;
      padding: 16px;
    }
    .screen.active {
      display: flex !important;
    }
    #countdownNumber { font-size: 60px; }
    .hud-card { background-color: #1a1a2e; border-radius: 16px; padding: 16px; margin-bottom: 16px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4); width: 100%; max-width: 480px; }
    .player-info { display: flex; align-items: center; gap: 16px; }
    .player-avatar { width: 64px; height: 64px; object-fit: contain; }
    .player-label { font-size: 1.4em; font-weight: bold; }
    .player-status { color: limegreen; font-size: 1.2em; font-weight: bold; }
    .section-title { font-weight: bold; text-transform: uppercase; margin-bottom: 8px; }
    ul#taskList { padding-left: 16px; margin: 0; list-style: disc; }
    .hud-btn { background: #245bff; color: white; border: none; padding: 14px; font-size: 1.1em; font-weight: bold; border-radius: 12px; width: 100%; cursor: pointer; margin-top: 12px; transition: background 0.3s ease; }
    .hud-btn:hover { background: #1c49d4; }
    .vote-section { margin-top: 12px; }
    .role-text { display: block; font-weight: bold; margin-bottom: 8px; }
    @media screen and (max-width: 480px) {
      .hud-card { max-width: 100%; padding: 12px; font-size: 14px; }
      .hud-btn { font-size: 14px; padding: 10px 12px; }
      #countdownNumber { font-size: 42px; }
      .player-avatar { width: 56px; height: 56px; }
      .player-label { font-size: 1.2em; }
      .player-status { font-size: 1em; }
    }
  </style>
</head>
<body>
  <div class="screen active" id="registerScreen">
    <div class="hud-card" style="text-align: center;">
      <h2>–í–≤–µ–¥–∏ —Å–≤–æ–π –Ω–æ–º–µ—Ä –∏–≥—Ä–æ–∫–∞ (1‚Äì60)</h2>
      <input type="number" id="playerInput" min="1" max="60" style="width: 100%; padding: 12px; font-size: 16px; border-radius: 8px; border: none;"/>
      <button id="registerBtn">–í–æ–π—Ç–∏</button>
    </div>
  </div>
  <div class="screen" id="waitingScreen">
    <div class="hud-card" style="text-align: center;">
      <h2>–û–∂–∏–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã...</h2>
      <p>–ñ–¥—ë–º —Å—Ç–∞—Ä—Ç–∞ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.</p>
    </div>
  </div>
  <div id="hudScreen" style="display: none;">
    <div class="hud-card">
      <div class="player-info">
        <img id="playerAvatar" src="avatars/red.webp" alt="–ê–≤–∞—Ç–∞—Ä" class="player-avatar" />
        <div>
          <div class="player-label">–ò–≥—Ä–æ–∫ ‚Ññ<span id="playerNumber">1</span></div>
          <div id="playerStatus" class="player-status">–ñ–∏–≤</div>
        </div>
      </div>
    </div>
    <div class="hud-card vote-section">
      <div class="section-title">–ü–û–î–û–ó–†–ï–í–ê–Æ</div>
      <button id="voteBtn" class="hud-btn">–ì–æ–ª–æ—Å–æ–≤–∞—Ç—å</button>
      <span id="cooldownTimer"></span>
      <span id="myVoteInfo" style="display:block; margin-top:10px; color:#fff; font-size:1.1em;"></span>
    </div>
    <div class="hud-card">
      <button id="roleButton" class="hud-btn">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ—é —Ä–æ–ª—å</button>
      <div id="roleDisplay" class="role-popup" style="display: none;"></div>
    </div>
  </div>
  <div id="meetingSection" class="hud-card" style="display:none; position: fixed; z-index: 1000; left: 50%; top: 50%; transform: translate(-50%, -50%);">
    <div class="section-title">üõë –°–û–ë–†–ê–ù–ò–ï!</div>
    <p id="meetingTimer" style="font-size:1.5em; color:#0ff; margin: 8px 0;">20</p>
    <p id="meetingKickCount">–ö–∏–∫: 0</p>
    <p id="meetingSkipCount">–û—Å—Ç–∞–≤–∏—Ç—å: 0</p>
    <p id="meetingTarget">–ò–≥—Ä–æ–∫ ‚Ññ...</p>
    <button id="voteKickBtn" class="hud-btn">–ò—Å–∫–ª—é—á–∏—Ç—å</button>
    <button id="voteSkipBtn" class="hud-btn">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
  </div>
  <div class="screen" id="roleScreen">
    <div id="roleText" class="role-popup">–¢–≤–æ—è —Ä–æ–ª—å...</div>
  </div>
  <div class="screen" id="countdownScreen">
    <div id="countdownNumber">3</div>
  </div>

<!-- –≠–∫—Ä–∞–Ω —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∫–∏–∫–Ω—É—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞ -->
<div id="imposterImage" class="screen" style="display: none; position: fixed; inset: 0; background: black; color: white; font-size: 2em; justify-content: center; align-items: center; flex-direction: column; z-index: 9999;">
  <img src="reveal.webp" alt="Imposter" style="width: 80%; max-width: 400px; height: auto; margin-bottom: 20px;" />
  <div id="imposterRoleText" style="font-weight: bold;"></div>
</div>


  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
  <script src="firebase-init.js"></script>
  <script src="script-player.js"></script>
  <script src="script-meeting.js"></script>
</body>
</html>
